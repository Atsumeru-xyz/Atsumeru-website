# Бібліотека

Весь імпортований контент `Atsumeru` розміщує в бібліотеці. Вона завжди єдина і глобальна для всього сервера

Розділяти контент за групами можна за допомогою [Динамічних категорій](./library.md#динамічні-категоріі) або шляхом створення необмеженої кількості [Категорій](./library.md#категоріі) і розміщення в них контенту

За замовчуванням, весь імпортований контент розміщується в [Категорію](./library.md#категоріі) `Несортовані`, за винятком випадків, коли в [Метаданих](./metadata.md) вказано тип контенту

<img style="display: block; margin: 0 auto" src="/assets/media/ru/guides/app-library.png">
<p style="text-align: center; font-size:75%">Інтерфейс бібліотеки</p>

:::c-tip
Натиснувши праву кнопку миші на картці контенту, відкриється контекстне меню з додатковими функціями на кшталт зміни [Категорії](./library.md#категоріі) або редагування [Метаданих](./metadata.md)

<img style="display: block; margin: 0 auto" src="/assets/media/ru/guides/app-library-context-menu.png">
<p style="text-align: center; font-size:75%">Контекстне меню картки контенту</p>
:::

## Динамічні категорії

`Динамічні категорії` - це особлива функція, яка автоматично групує контент за категоріями на основі [Типів контенту](/ua/glossary/content-types.md)

Групування відбувається одразу під час імпортування, якщо в [Метаданих](./metadata.md) контенту вказано тип або після редагування [Метаданих](./metadata.md) із зазначенням/зміною типу

Дані категорії з'являються, якщо в базі даних є хоча б одна `Серія` з необхідним типом і автоматично видаляються, якщо `Серій` немає. Безпосередньо керувати категоріями (створення/редагування/видалення) неможливо, але дозволяється як завгодно змінювати їхній порядок

:::c-tip
Перемістивши контент у [Категорію](./library.md#категоріі), він більше не належатиме до `Динамічної категорії`, навіть якщо співпадатимуть [Типи контенту](/ua/glossary/content-types.md). Таким чином, можливо повністю позбутися непотрібної категорії
:::

:::c-warning
Існує також *особлива* `Динамічна категорія` - `Несортовані`. Сюди автоматично розміщується весь контент без зазначеного [Типу контенту](/ua/glossary/content-types.md) і [Категорії](./library.md#категоріі)
:::

## Категорії

На додаток до (або як альтернатива) [Динамічних категорій](./library.md#динамічні-категоріі) можливо створення свої `Категорії` і розміщувати туди контент. Натиснувши <MaterialIcon icon="local_offer"/> на панелі [Atsumeru Manager](https://github.com/AtsumeruDev/AtsumeruManager) <img style="position: relative; top: 6px;" width="24" height="24" src="/assets/media/icons/windows.png"> <img style="position: relative; top: 6px;" width="24" height="24" src="/assets/media/icons/penguin.png"> відкриється `Редактор категорій`, у якому можливо змінювати, видаляти та створювати нові категорії

<img style="display: block; margin: 0 auto" src="/assets/media/ru/guides/categories-edit.png">
<p style="text-align: center; font-size:75%">Інтерфейс редактора категорій</p>

:::c-warning
Назва категорії має бути унікальною
:::

Вибравши з контекстного меню контенту `Змінити категорію` відкриється аналогічне вікно, де можлиов вказати в які категорії його розмістити

:::c-tip
Контент одночасно може перебувати в необмеженій кількості категорій
:::

Якщо видалити категорію, весь контент буде переміщено до `Несортованих` або [Динамічної категорії](./library.md#динамічні-категоріі) на основі [Типу контенту](/ua/glossary/content-types.md)

### Зміна порядку категорій

Порядок категорій змінюється шляхом перетягування вкладок категорій на нижній панелі додатку

## Метакатегорії

З усіх [Метаданих](./metadata.md) усього контенту на сервері, `Atsumeru` автоматично створює `Метакатегорії`. Це спеціальний розділ, у якому контент групується за формулою `<категорія>` > `<тег>` > `<списки контенту>`, де:
- `<категорія>` - одна із зумовлених [Категорій метаданих](/ua/glossary/metadata-categories.md)
- `<тег>` - атомарна одиниця категорії (наприклад, окремий автор, перекладач, жанр тощо)
- `<списки контенту>` - сформовані списки контенту, які в метаданих містять даний `<тег>` в `<категорії>`

Метакатегорії працюють незалежно від користувача, ними не можна керувати і безпосередньо змінювати (зміну здійснюють тільки зміною [Метаданих](./metadata.md) контенту). Їх не можна відключити або якось налаштувати

:::c-warning
Використовувати та/або підтримувати `Метакатегорії` необов'язково. Розробник клієнта може не реалізовувати цей функціонал або зробити його опціональним
:::

## Сортування

`Atsumeru` підтримує величезну кількість [Видів сортування](/ua/glossary/sort-types.md)

:::c-warning
Сортування `За останнім читанням` працює трохи повільніше через додаткові запити до історії читання
:::

Сортування можна використовувати як зі списками контенту за замовчуванням, так і комбінувати їх із [Фільтрацією та пошуком](./library.md#фільтрація-та-пошук)

## Фільтрація та пошук

### Фільтрація

За аналогією з [Метакатегоріями](./library.md#метакатегоріі), з усіх [Метаданих](./metadata.md) всього контенту на сервері збираються списки `тегів` для всіх [Категорій метаданих](/ua/glossary/metadata-categories.md). Дані списки можна використовувати для більш точної вибірки контенту


:::c-tip
Практично всі [Категорій метаданих](/ua/glossary/metadata-categories.md) підтримують множинну та/або таку, що виключає фільтрацію
:::

:::c-warning
Якісна реалізація інтерфейсів фільтрація залишається за розробником клієнта
:::

### Пошук

Сервер підтримує пошук за ключовими словами за основними полями (назви) і за всіма іншими полями [Метаданих](./metadata.md). Наприклад, виконавши пошук за фразою `Honna`, сервер відобразить весь контент, автором якого є `Honna Wakou`

:::c-tip
Для зручності опрацювання та заповнення [Метаданих](./metadata.md) у категорії `Несортоване`, Адміністраторам також доступний пошук за шляхами до файлів. Він нічим не відрізняється від звичайного пошуку. Достатньо в ролі фрази використовувати частину шляху до необхідних файлів. Наприклад, виконавши пошук за фразою `Rebirth`, сервер відобразить увесь контент, у шляхах якого міститься фраза `DC Rebirth`
:::

:::c-danger
Повнотекстовий [Fuzzy-пошук](https://www.wikiwand.com/uk/%D0%9D%D0%B0%D0%B1%D0%BB%D0%B8%D0%B6%D0%B5%D0%BD%D0%B0_%D0%B2%D1%96%D0%B4%D0%BF%D0%BE%D0%B2%D1%96%D0%B4%D0%BD%D1%96%D1%81%D1%82%D1%8C_%D1%80%D1%8F%D0%B4%D0%BA%D1%96%D0%B2) не підтримується
:::


## Видалення контенту

Контент можна видалити з бібліотеки за допомогою відповідного пункту його контекстного меню. Фізично файл не видаляється, а *приховується* сам запис про `Серію` у базі даних. Переімпорт не відновлює видалений контент

:::c-tip
Відновити видалений контент можна [видаливши з імпорту директорію](./import.md#видалення-директорії), у якій міститься цей контент, і заново її імпортувавши
:::